(this["webpackJsonpmodulo-3-repaso-final"]=this["webpackJsonpmodulo-3-repaso-final"]||[]).push([[0],{29:function(e,a,t){"use strict";t.r(a);var c=t(1),s=t(16),r=t.n(s),n=t(8),i=t(10),l=(t(5),t(2));var o={getFromApi:function(){return fetch("https://rickandmortyapi.com/api/character/?page=1").then((function(e){return e.json()})).then((function(e){return e.results.map((function(e){return{id:e.id,name:e.name,species:e.species,image:e.image,status:e.status,origin:e.origin.name,episode:e.episode.map((function(a){return e.episode})),numberOfEpisodes:e.episode.length}}))}))},getPagesFromApi:function(){return fetch("https://rickandmortyapi.com/api/character/?page=1").then((function(e){return e.json()})).then((function(e){return{count:e.info.count,pages:e.info.pages,next:e.info.next,prev:e.info.prev}}))},nextPages:function(e){if(null!==e)return fetch("https://rickandmortyapi.com/api/character/?page=".concat(e)).then((function(e){return e.json()})).then((function(e){return e.results.map((function(e){return{image:e.image,name:e.name,species:e.species,id:e.id,status:e.status,origin:e.origin.name,episodes:e.episode,numberOfEpisodes:e.episode.length}}))}))}},d={get:function(e,a){var t=localStorage.getItem(e);return null===t?a:JSON.parse(t)},set:function(e,a){var t=JSON.stringify(a);localStorage.setItem(e,t)},remove:function(e){localStorage.removeItem(e)},clear:function(){localStorage.clear()}},j=t.p+"static/media/logo.de13d484.png",m=t(0);var h=function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("header",{className:"header",children:[Object(m.jsx)("img",{className:"header__image",src:j,alt:"logo",title:"logo"}),Object(m.jsx)("h1",{className:"header__title",children:"The awesome Rick and Morty character finder"})]})})};var u=function(e){return Object(m.jsx)("footer",{className:"footer",children:Object(m.jsxs)("small",{className:"copy",children:[" Evaluaci\xf3n Final React ",Object(m.jsx)("span",{className:"authorName",children:"Iratxe Martin"})," \xa9 2021 "]})})},b=t.p+"static/media/rick.1f2dae1f.gif",f=(t.p,t.p+"static/media/rickAndMorty.b90f1f7d.gif"),p=t.p+"static/media/all.556b4251.gif";var O=function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("label",{htmlFor:"name",children:"Filter by Name"}),Object(m.jsx)("input",{className:"form__firstPart--filterByName",type:"text",name:"name",id:"name",placeholder:" e.g. Morty",value:e.searchName,onChange:e.handleName})]})};var x=function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("label",{htmlFor:"species",children:"Filter by Species"}),Object(m.jsxs)("select",{className:"form__firstPart--filterBySpecies",name:"species",id:"species",value:e.searchSpecies,onChange:e.handleSpecies,children:[Object(m.jsx)("option",{value:"All",children:"All"}),Object(m.jsx)("option",{value:"Human",children:"Human"}),Object(m.jsx)("option",{value:"Alien",children:"Alien"})]})]})};var g=function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("label",{children:" Filter by Status                "}),Object(m.jsxs)("div",{className:"input-label-part",children:[Object(m.jsxs)("div",{className:"input-label-partOne",children:[Object(m.jsx)("input",{className:"form__secondPart--filterByStatus",type:"radio",name:"status",id:"All",value:"All",onChange:e.handleStatus}),Object(m.jsx)("label",{className:"input-label",htmlFor:"All",children:"All \ud83c\udd70"}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{className:"form__secondPart--filterByStatus",type:"radio",name:"status",id:"Alive",value:"Alive",onChange:e.handleStatus}),Object(m.jsx)("label",{className:"input-label",htmlFor:"Alive",children:"Alive \ud83d\udc93"})]}),Object(m.jsxs)("div",{className:"input-label-partTwo",children:[Object(m.jsx)("input",{className:"form__secondPart--filterByStatus",type:"radio",name:"status",id:"Dead",value:"Dead",onChange:e.handleStatus}),Object(m.jsx)("label",{className:"input-label",htmlFor:"Dead",children:"Dead \ud83d\udc80"})," ",Object(m.jsx)("br",{}),Object(m.jsx)("input",{className:"form__secondPart--filterByStatus",type:"radio",name:"status",id:"unknown",value:"unknown",onChange:e.handleStatus}),Object(m.jsx)("label",{className:"input-label",htmlFor:"unknown",children:"Unknown \ud83e\uddd0"})]})]})]})};var N=function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("form",{className:"form",children:[Object(m.jsxs)("fieldset",{className:"form__firstPart",children:[Object(m.jsx)(O,{searchName:e.searchName,handleName:e.handleName}),Object(m.jsx)(x,{searchSpecies:e.searchSpecies,handleSpecies:e.handleSpecies})]}),Object(m.jsx)("img",{className:"rick",src:b,alt:"Pic from Rick",title:"Pic from Rick"}),Object(m.jsxs)("fieldset",{className:"form__secondPart",children:[Object(m.jsx)(g,{searchStatus:e.searchStatus,handleStatus:e.handleStatus}),Object(m.jsx)("img",{className:"rickAndMorty",src:f,alt:"Pic from Rick and Morty",title:"Pic from Rick and Morty"}),Object(m.jsx)("img",{className:"all",src:p,alt:"Pic from Rick and Morty and Sally",title:"Pic from Rick and Morty and Sally"})]})]})})};var _=function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("button",{type:"reset",className:"resetbutton",onClick:e.handleReset,children:"Reset"})})};var v=function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("button",{className:"randombutton",onClick:e.handleRandomNumber,children:"Get random characters"})})},S=t.p+"static/media/next.0f943e63.jpg";var y=function(e){var a=e.characterData.status;return a="Dead"===e.characterData.status?"\ud83d\udc80":"unknown"===e.characterData.status?"\ud83e\uddd0":"\ud83d\udc93",Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(n.b,{to:"./".concat(e.characterData.id),children:[Object(m.jsx)("img",{className:"card__character--img",src:e.characterData.image,alt:"Pic from ".concat(e.characterData.name," "),title:"Pic from".concat(e.characterData.name," ")}),Object(m.jsxs)("section",{className:"card__character--text",children:[Object(m.jsxs)("div",{className:"features",children:[Object(m.jsx)("h4",{className:"card__character--title",children:e.characterData.name}),Object(m.jsx)("p",{className:"card__character--species",children:e.characterData.species})]}),Object(m.jsxs)("p",{className:"card__character--status",children:[" ",a]})]})]})})};var P=function(e){var a=e.data.map((function(e){return Object(m.jsx)("li",{className:"card",children:Object(m.jsx)(y,{characterData:e})},e.id)}));return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("ul",{className:"character__list",children:[a,Object(m.jsxs)("li",{className:"card card-next",onClick:e.handlePage,children:[Object(m.jsx)("img",{className:"card__character--img",src:S,alt:"next",title:"next"}),Object(m.jsxs)("section",{className:"card__character--text",children:[Object(m.jsxs)("div",{className:"features",children:[Object(m.jsx)("h4",{className:"card__character--title title-next",children:"Go to next page"}),Object(m.jsx)("p",{className:"card__character--species text-next",children:"Click here for more characters"})]}),Object(m.jsx)("p",{className:"card__character--status",children:"\ud83d\udc49"})]})]})]})})},k=t.p+"static/media/ivan.c4c2f327.jpg";var F=function(e){return Object(m.jsx)("div",{className:"modal",children:Object(m.jsx)("div",{className:"modal__dialog",children:Object(m.jsxs)("div",{className:"modal__content",children:[Object(m.jsxs)("header",{className:"modal__header",children:[Object(m.jsx)("h2",{className:"modal__title",children:e.title}),Object(m.jsx)(n.b,{to:"/",children:Object(m.jsx)("span",{className:"modal__close icon fal fa-times-circle"})})]}),Object(m.jsx)("section",{className:"modal__text",children:e.children})]})})})};var A=function(e){return void 0===e.character?Object(m.jsxs)(F,{className:"modal__notFound",title:"Personaje no encontrado",children:[Object(m.jsx)("img",{className:"detail__character--img",src:k,alt:"Pic from Ivan",title:"Pic from Ivan"}),Object(m.jsx)("p",{className:"text__notFound",children:"\xa1Yo no soy un personaje, tas equivocao!"})]}):Object(m.jsx)(F,{title:e.character.name,className:"modal__dialog",children:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("img",{className:"detail__character--img",src:e.character.image,alt:"Pic from ".concat(e.character.name," "),title:"Pic from ".concat(e.character.name," ")}),Object(m.jsxs)("ul",{className:"detail__list",children:[Object(m.jsx)("li",{className:"detail__list--name",children:"Name: ".concat(e.character.name)}),Object(m.jsx)("li",{className:"detail__list--status",children:"Status: ".concat(e.character.status)}),Object(m.jsx)("li",{className:"detail__list--species",children:"Species: ".concat(e.character.species)}),Object(m.jsx)("li",{className:"detail__list--origin",children:"Origin: ".concat(e.character.origin)}),Object(m.jsx)("li",{className:"detail__list--numberOfEpisodes",children:"Episodes where it appears: ".concat(e.character.numberOfEpisodes)})]})]})})};var D=function(){var e=Object(c.useState)([]),a=Object(i.a)(e,2),t=a[0],s=a[1],r=Object(c.useState)(""),n=Object(i.a)(r,2),j=n[0],b=n[1],f=Object(c.useState)("All"),p=Object(i.a)(f,2),O=p[0],x=p[1],g=Object(c.useState)("All"),S=Object(i.a)(g,2),y=S[0],k=S[1],F=Object(c.useState)(1),D=Object(i.a)(F,2),R=D[0],w=D[1];Object(c.useEffect)((function(){d.get("characters",[]).length>0?s(d.get("characters",[])):o.getFromApi().then((function(e){var a=e.sort((function(e,a){return e.name>a.name?1:e.name<a.name?-1:0}));s(a),d.set("characters",a)}))}),[]),Object(c.useEffect)((function(){o.nextPages(R).then((function(e){s(e)}))}),[R]);var C,M=(C=34,Math.ceil(Math.random()*C)),E=Object(l.f)("/:id"),I=null!==E?E.params.id:"",B=t.find((function(e){return e.id===parseInt(I)})),T=t.filter((function(e){return e.name.toLocaleLowerCase().includes(j.toLocaleLowerCase())})).filter((function(e){return"All"===O||e.species===O})).filter((function(e){return"All"===y||e.status===y}));return Object(m.jsxs)("div",{children:[Object(m.jsx)(h,{}),Object(m.jsxs)("section",{className:"filtered__data",children:[Object(m.jsx)(N,{searchName:j,searchSpecies:O,searchStatus:y,handleName:function(e){b(e.currentTarget.value),e.preventDefault()},handleSpecies:function(e){x(e.currentTarget.value),e.preventDefault()},handleStatus:function(e){k(e.currentTarget.value),e.preventDefault()}}),Object(m.jsxs)("section",{className:"buttons",children:[Object(m.jsx)(_,{handleReset:function(e){x("All"),k("All"),b(""),w(1)}}),Object(m.jsx)(v,{handleRandomNumber:function(e){w(M)}})]}),Object(m.jsx)(P,{data:T,handlePage:function(e){w(R+1)}})]}),Object(m.jsx)(u,{}),Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{path:"/:id",children:Object(m.jsx)("section",{children:Object(m.jsx)(A,{character:B})})}),Object(m.jsx)(l.a,{exact:!0,path:"/"})]})]})};r.a.render(Object(m.jsx)(n.a,{children:Object(m.jsx)(D,{})}),document.getElementById("root"))},5:function(e,a,t){}},[[29,1,2]]]);
//# sourceMappingURL=main.5a2bba79.chunk.js.map